(ns phel-test\test\core\macroexpand
  (:require phel\test :refer [deftest is]))

(deftest test-macroexpand-1-when
  (is (= '(if true (do 1 2))
         (macroexpand-1 '(when true 1 2)))))

(deftest test-macroexpand-threading
  (is (= (print-str '(do (assert-non-nil 1 2) (+ 1 2)))
         (print-str (macroexpand '(-> 1 (+ 2)))))))

(deftest test-macroexpand-inline
  (is (= (print-str '(do (assert-non-nil 1) (+ 1 1)))
         (print-str (macroexpand-1 '(inc 1))))))
